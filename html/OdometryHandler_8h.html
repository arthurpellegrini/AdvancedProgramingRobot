<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turtlebot: include/OdometryHandler.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="resized_logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turtlebot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">OdometryHandler.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Handles the reception and storage of Odometry data.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sstream&gt;</code><br />
<code>#include &lt;ctime&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;jsoncpp/json/json.h&gt;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;iomanip&gt;</code><br />
<code>#include &lt;cstdlib&gt;</code><br />
<code>#include &quot;<a class="el" href="SharedMemory_8h_source.html">SharedMemory.h</a>&quot;</code><br />
<code>#include &lt;semaphore.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for OdometryHandler.h:</div>
<div class="dyncontent">
<div class="center"><img src="OdometryHandler_8h__incl.png" border="0" usemap="#include_2OdometryHandler_8h" alt=""/></div>
<map name="include_2OdometryHandler_8h" id="include_2OdometryHandler_8h">
<area shape="rect" title="Handles the reception and storage of Odometry data." alt="" coords="461,5,662,32"/>
<area shape="rect" title=" " alt="" coords="5,80,80,107"/>
<area shape="rect" title=" " alt="" coords="104,80,163,107"/>
<area shape="rect" title=" " alt="" coords="91,155,171,181"/>
<area shape="rect" title=" " alt="" coords="544,80,691,107"/>
<area shape="rect" title=" " alt="" coords="715,80,789,107"/>
<area shape="rect" title=" " alt="" coords="813,80,872,107"/>
<area shape="rect" title=" " alt="" coords="195,155,261,181"/>
<area shape="rect" title=" " alt="" coords="285,155,360,181"/>
<area shape="rect" title=" " alt="" coords="897,80,989,107"/>
<area shape="rect" title=" " alt="" coords="1013,80,1115,107"/>
<area shape="rect" title=" " alt="" coords="1140,80,1215,107"/>
<area shape="rect" title=" " alt="" coords="1239,80,1305,107"/>
<area shape="rect" href="SharedMemory_8h.html" title="Provides shared memory and semaphore management for data synchronization." alt="" coords="339,80,469,107"/>
<area shape="rect" title=" " alt="" coords="599,155,705,181"/>
<area shape="rect" title=" " alt="" coords="385,155,487,181"/>
<area shape="rect" title=" " alt="" coords="511,155,574,181"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="OdometryHandler_8h__dep__incl.png" border="0" usemap="#include_2OdometryHandler_8hdep" alt=""/></div>
<map name="include_2OdometryHandler_8hdep" id="include_2OdometryHandler_8hdep">
<area shape="rect" title="Handles the reception and storage of Odometry data." alt="" coords="43,5,244,32"/>
<area shape="rect" href="main_8cpp.html" title="Main program to connect to a server and handle LaserScan, Odometry, and Commander data." alt="" coords="5,80,111,107"/>
<area shape="rect" href="OdometryHandler_8cpp.html" title="Receives and processes Odometry data from a TCP socket." alt="" coords="135,80,323,107"/>
</map>
</div>
</div>
<p><a href="OdometryHandler_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a6b20d41d6252e9871430c242cb1a56e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdometryHandler_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>&#160;&#160;&#160;1024</td></tr>
<tr class="memdesc:a6b20d41d6252e9871430c242cb1a56e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the buffer size for receiving Odometry data.  <a href="OdometryHandler_8h.html#a6b20d41d6252e9871430c242cb1a56e7">More...</a><br /></td></tr>
<tr class="separator:a6b20d41d6252e9871430c242cb1a56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a559c819c76b76622cdd0304543c8e6e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="OdometryHandler_8h.html#a559c819c76b76622cdd0304543c8e6e8">ReceiveAndSaveOdometryData</a> (int sock, <a class="el" href="structSharedData.html">SharedData</a> *shared, sem_t *odometrySemaphore)</td></tr>
<tr class="memdesc:a559c819c76b76622cdd0304543c8e6e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receives and saves Odometry data from a socket.  <a href="OdometryHandler_8h.html#a559c819c76b76622cdd0304543c8e6e8">More...</a><br /></td></tr>
<tr class="separator:a559c819c76b76622cdd0304543c8e6e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles the reception and storage of Odometry data. </p>
<p>This header defines functions and constants used for processing Odometry data received from a server. The data is synchronized using semaphores and stored in shared memory for further use. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a6b20d41d6252e9871430c242cb1a56e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b20d41d6252e9871430c242cb1a56e7">&#9670;&nbsp;</a></span>BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BUFFER_SIZE&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the buffer size for receiving Odometry data. </p>
<p>This constant is used to allocate memory for receiving data packets transmitted from the server. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a559c819c76b76622cdd0304543c8e6e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a559c819c76b76622cdd0304543c8e6e8">&#9670;&nbsp;</a></span>ReceiveAndSaveOdometryData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ReceiveAndSaveOdometryData </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structSharedData.html">SharedData</a> *&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t *&#160;</td>
          <td class="paramname"><em>odometrySemaphore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receives and saves Odometry data from a socket. </p>
<p>This function continuously receives Odometry data from the given socket, processes it, and stores it in shared memory. Synchronization is ensured through the provided semaphore, allowing safe concurrent access to shared resources.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sock</td><td>The socket descriptor used to receive Odometry data. </td></tr>
    <tr><td class="paramname">shared</td><td>Pointer to the shared memory structure where Odometry data will be stored. </td></tr>
    <tr><td class="paramname">odometrySemaphore</td><td>Pointer to the semaphore used for synchronizing access to shared memory.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Ensure that the socket is connected to the correct server and port before calling this function.</dd></dl>
<p>The function operates in a loop, reading incoming data from the server, adding timestamps, and writing the data to shared memory. It is designed to run as part of a multi-threaded system where thread safety is managed via semaphores. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
