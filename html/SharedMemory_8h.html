<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Turtlebot: include/SharedMemory.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="resized_logo.jpeg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Turtlebot
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SharedMemory.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provides shared memory and semaphore management for data synchronization.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;semaphore.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SharedMemory.h:</div>
<div class="dyncontent">
<div class="center"><img src="SharedMemory_8h__incl.png" border="0" usemap="#ainclude_2SharedMemory_8h" alt=""/></div>
<map name="ainclude_2SharedMemory_8h" id="ainclude_2SharedMemory_8h">
<area shape="rect" title="Provides shared memory and semaphore management for data synchronization." alt="" coords="5,5,188,32"/>
<area shape="rect" title=" " alt="" coords="43,80,150,107"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="SharedMemory_8h__dep__incl.png" border="0" usemap="#ainclude_2SharedMemory_8hdep" alt=""/></div>
<map name="ainclude_2SharedMemory_8hdep" id="ainclude_2SharedMemory_8hdep">
<area shape="rect" title="Provides shared memory and semaphore management for data synchronization." alt="" coords="32,5,215,32"/>
<area shape="rect" href="main_8cpp.html" title="Main program to connect to a server and handle LaserScan, Odometry, and Commander data." alt="" coords="71,155,176,181"/>
<area shape="rect" href="LaserScanHandler_8h.html" title="Handles the reception and storage of LaserScan data." alt="" coords="22,80,225,107"/>
<area shape="rect" href="OdometryHandler_8h.html" title="Handles the reception and storage of Odometry data." alt="" coords="250,80,451,107"/>
</map>
</div>
</div>
<p><a href="SharedMemory_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structSharedData.html">SharedData</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to store shared data for LaserScan and Odometry.  <a href="structSharedData.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa24f4bdd8cee7b6681e136286e5bf641"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSharedData.html">SharedData</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SharedMemory_8h.html#aa24f4bdd8cee7b6681e136286e5bf641">InitializeSharedMemory</a> (sem_t *&amp;laserSemaphore, sem_t *&amp;odometrySemaphore)</td></tr>
<tr class="memdesc:aa24f4bdd8cee7b6681e136286e5bf641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes shared memory and semaphores.  <a href="SharedMemory_8h.html#aa24f4bdd8cee7b6681e136286e5bf641">More...</a><br /></td></tr>
<tr class="separator:aa24f4bdd8cee7b6681e136286e5bf641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ccfb5d14692a55b8a4697924c268351"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="SharedMemory_8h.html#a1ccfb5d14692a55b8a4697924c268351">CleanupSharedMemory</a> (<a class="el" href="structSharedData.html">SharedData</a> *shared, sem_t *laserSemaphore, sem_t *odometrySemaphore)</td></tr>
<tr class="memdesc:a1ccfb5d14692a55b8a4697924c268351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleans up shared memory and semaphores.  <a href="SharedMemory_8h.html#a1ccfb5d14692a55b8a4697924c268351">More...</a><br /></td></tr>
<tr class="separator:a1ccfb5d14692a55b8a4697924c268351"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provides shared memory and semaphore management for data synchronization. </p>
<p>This header defines the structure and functions used for initializing, managing, and cleaning up shared memory and semaphores for LaserScan and Odometry data. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a1ccfb5d14692a55b8a4697924c268351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ccfb5d14692a55b8a4697924c268351">&#9670;&nbsp;</a></span>CleanupSharedMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CleanupSharedMemory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSharedData.html">SharedData</a> *&#160;</td>
          <td class="paramname"><em>shared</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t *&#160;</td>
          <td class="paramname"><em>laserSemaphore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t *&#160;</td>
          <td class="paramname"><em>odometrySemaphore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cleans up shared memory and semaphores. </p>
<p>This function releases memory allocated for the shared data structure and destroys the semaphores used for synchronization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shared</td><td>Pointer to the shared data structure to be freed. </td></tr>
    <tr><td class="paramname">laserSemaphore</td><td>Pointer to the LaserScan semaphore to be destroyed. </td></tr>
    <tr><td class="paramname">odometrySemaphore</td><td>Pointer to the Odometry semaphore to be destroyed.</td></tr>
  </table>
  </dd>
</dl>
<p>This function unmaps and unlinks the shared memory and closes and unlinks the semaphores created or used during the program execution.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">shared</td><td>Pointer to the shared memory structure to be cleaned up. </td></tr>
    <tr><td class="paramname">laserSemaphore</td><td>Pointer to the semaphore for LaserScan data synchronization. </td></tr>
    <tr><td class="paramname">odometrySemaphore</td><td>Pointer to the semaphore for Odometry data synchronization.</td></tr>
  </table>
  </dd>
</dl>
<p>The function ensures that all resources allocated for shared memory and semaphores are released properly. This includes unmapping the memory, unlinking the shared memory file, and closing and unlinking the semaphores. </p>

</div>
</div>
<a id="aa24f4bdd8cee7b6681e136286e5bf641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24f4bdd8cee7b6681e136286e5bf641">&#9670;&nbsp;</a></span>InitializeSharedMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSharedData.html">SharedData</a>* InitializeSharedMemory </td>
          <td>(</td>
          <td class="paramtype">sem_t *&amp;&#160;</td>
          <td class="paramname"><em>laserSemaphore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sem_t *&amp;&#160;</td>
          <td class="paramname"><em>odometrySemaphore</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes shared memory and semaphores. </p>
<p>This function allocates memory for the shared data structure and initializes semaphores for synchronizing access to LaserScan and Odometry data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">laserSemaphore</td><td>Reference to a pointer for the LaserScan semaphore. </td></tr>
    <tr><td class="paramname">odometrySemaphore</td><td>Reference to a pointer for the Odometry semaphore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the allocated and initialized shared data structure.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The returned shared memory must be cleaned up with <code>CleanupSharedMemory</code> to prevent memory leaks and ensure semaphore destruction. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
